!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(1),angular.module("jshor.angular-addtocalendar",["ngFileSaver"]).config(n(2)).directive("addtocalendar",n(3)).controller("AddtocalendarCtrl",n(4))},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(t,e){"use strict";t.exports=function(t,e,n){function r(t,r,o){try{e(t,r,o)}catch(t){n.handleErrors(t.message)}}return{saveAs:function(t,e,o){return n.isBlobInstance(t)||n.handleErrors("Data argument should be a blob instance"),n.isString(e)||n.handleErrors("Filename argument should be a string"),r(t,e,o)}}}},function(t,e){"use strict";t.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return"undefined"==typeof t},isBlobInstance:function(t){return t instanceof Blob}}}},function(t,e,n){"use strict";n(4),t.exports=function(t){return t.Blob}},function(t,e){/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},o=n.prototype,a=r.prototype,i=t.FileReaderSync,c=function(t){this.code=this[this.name=t]},s="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=s.length,l=t.URL||t.webkitURL||t,d=l.createObjectURL,f=l.revokeObjectURL,p=l,g=t.btoa,v=t.atob,h=t.ArrayBuffer,b=t.Uint8Array,w=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=a.fake=!0;u--;)c.prototype[s[u]]=u+1;return l.createObjectURL||(p=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(w),n.origin=e&&e[1])),n}),p.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof r?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):g?e+";base64,"+g(t.data):e+","+encodeURIComponent(t.data)):d?d.call(l,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(l,t)},o.append=function(t){var n=this.data;if(b&&(t instanceof h||t instanceof b)){for(var o="",a=new b(t),s=0,u=a.length;s<u;s++)o+=String.fromCharCode(a[s]);n.push(o)}else if("Blob"===e(t)||"File"===e(t)){if(!i)throw new c("NOT_READABLE_ERR");var l=new i;n.push(l.readAsBinaryString(t))}else t instanceof r?"base64"===t.encoding&&v?n.push(v(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},o.getBlob=function(t){return arguments.length||(t=null),new r(this.data.join(""),t,"raw")},o.toString=function(){return"[object BlobBuilder]"},a.slice=function(t,e,n){var o=arguments.length;return o<3&&(n=null),new r(this.data.slice(t,o>1?e:this.data.length),n,this.encoding)},a.toString=function(){return"[object Blob]"},a.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var r=n?n.type||"":"",o=new e;if(t)for(var a=0,i=t.length;a<i;a++)Uint8Array&&t[a]instanceof Uint8Array?o.append(t[a].buffer):o.append(t[a]);var c=o.getBlob(r);return!c.slice&&c.webkitSlice&&(c.slice=c.webkitSlice),c};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e,n){"use strict";t.exports=function(){return n(6).saveAs||function(){}}},function(t,e,n){var r,o,a=a||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},i=/constructor/i.test(t.HTMLElement),c=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",l=4e4,d=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,l)},f=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){s(t)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},g=function(e,s,l){l||(e=p(e));var g,v=this,h=e.type,b=h===u,w=function(){f(v,"writestart progress write writeend".split(" "))},m=function(){if((c||b&&i)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=c?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,v.readyState=v.DONE,w()},r.readAsDataURL(e),void(v.readyState=v.INIT)}if(g||(g=n().createObjectURL(e)),b)t.location.href=g;else{var o=t.open(g,"_blank");o||(t.location.href=g)}v.readyState=v.DONE,w(),d(g)};return v.readyState=v.INIT,o?(g=n().createObjectURL(e),void setTimeout(function(){r.href=g,r.download=s,a(r),w(),d(g),v.readyState=v.DONE})):void m()},v=g.prototype,h=function(t,e,n){return new g(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=a:null!==n(7)&&null!==n(8)&&(r=[],o=function(){return a}.apply(e,r),!(void 0!==o&&(t.exports=o)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}])})},function(t,e){"use strict";t.exports=["$compileProvider",function(t){t.aHrefSanitizationWhitelist(/^\s*(http(s)?|data):/)}]},function(t,e){"use strict";t.exports=[function(){function t(t){return'\t    <div class="btn-group dropdown" '+t+' on-toggle="toggled(open)" \t      title="{{(hoverText == undefined) ? title : hoverText}}">\t      <span\t        ng-class="className || \'btn btn-sm btn-default '+t+"-toggle'\"\t        "+t+'-toggle>\t        {{(btnText == undefined) ? \'Add to calendar\' : btnText}}\t        <span ng-if="caret != \'false\'" class="caret"></span>\t      </span>\t      <ul class="dropdown-menu">\t        <li><a ng-click="calendarUrl.dlIcal()" ng-if="calendarUrl.dlIcal">iCalendar</a></li>\t        <li><a href="{{calendarUrl.google}}" target="_blank">Google Calendar</a></li>\t        <li><a ng-click="calendarUrl.dlIcal()" ng-if="calendarUrl.dlIcal">Outlook</a></li>\t        <li><a href="{{calendarUrl.yahoo}}" target="_blank">Yahoo! Calendar</a></li>\t        <li><a href="{{calendarUrl.microsoft}}" target="_blank">Microsoft Calendar</a></li>\t      </ul>\t    </div>'}function e(e,n){return t(n.$attr&&n.$attr.uibDropdown?"uib-dropdown":"dropdown")}return{restrict:"E",scope:{startDate:"@",endDate:"@",title:"@",description:"@",location:"@",className:"@",btnText:"@",caret:"@",hoverText:"@",format:"@"},controller:"AddtocalendarCtrl",template:e}}]},function(t,e,n){"use strict";var r=n(5),o=n(6),a=n(8),i=n(9),c=n(10),s=n(12),u=n(13),l=n(14);t.exports=["$scope","$attrs","FileSaver",function(t,e,n){function d(){var e=t.format,n=t.timezone;["startDate","endDate"].forEach(function(r){h[r]=o(t[r],e,n)})}function f(){var e={};return r(t,function(n){e[n]=encodeURIComponent(t[n])}),e}function p(){var e=angular.extend(f(),h),n=angular.extend({},t,h);t.calendarUrl={microsoft:u(e),google:a(e),yahoo:l(e),icalendar:c(n),dlIcal:g}}function g(){var e=s(t.title),r=t.calendarUrl.icalendar,o=i(r);n.saveAs(o,e)}function v(){d(),p()}var h={};t.description=t.description||"",r(e,function(t){e.$observe(t,v)}),v()}]},function(t,e){"use strict";t.exports=function(t,e){for(var n in t)t.hasOwnProperty(n)&&n.indexOf("$")===-1&&e(n,t[n])}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){var n=["YYYYMMDD","HHmmss"],o=function(){return e?new r(t,e):new r(t)}();return n.map(function(t){return o.format(t)}).join("T")}},function(t,e){t.exports=require("moment")},function(t,e){"use strict";t.exports=function(t){var e="https://www.google.com/calendar/render?action=TEMPLATE";return e+="&text="+t.title,e+="&dates="+t.startDate+"/"+t.endDate,e+="&details="+t.description,e+="&location="+t.location}},function(t,e){"use strict";t.exports=function(t){return new Blob([t],{type:"application/octet-stream"})}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t){return["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","CLASS:PUBLIC","DESCRIPTION:"+r(t.description,62),"DTSTART:"+t.startDate,"DTEND:"+t.endDate,"LOCATION:"+r(t.location,64),"SUMMARY:"+r(t.title,66),"TRANSP:TRANSPARENT","END:VEVENT","END:VCALENDAR"].join("\n")}},function(t,e){"use strict";t.exports=function(t,e){function n(t){return t.length<=e?t:t.substring(0,e).replace(/\n/g,"\\n")+"\r\n "+n(t.substring(e),75)}return n(t.replace(/\n/g,"\\n"),e)}},function(t,e){"use strict";t.exports=function(t){return t.replace(/[^\w ]+/g,"")+".ics"}},function(t,e){"use strict";t.exports=function(t){var e="http://calendar.live.com/calendar/calendar.aspx?rru=addevent";return e+="&summary="+t.title,e+="&dtstart="+t.startDate+"&dtend="+t.endDate,e+="&description="+t.description,e+="&location="+t.location}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t){var e="http://calendar.yahoo.com/?v=60&view=d&type=20",n=r(t.startDate,t.endDate);return e+="&TITLE="+t.title,e+="&ST="+t.startDate+"&DUR="+n,e+="&DESC="+t.description,e+="&in_loc="+t.location}},function(t,e,n){"use strict";function r(t){return t<10&&(t="0"+t),t+"00"}function o(t,e,n){var o=new a(t),i=new a(e);n&&(o.utcOffset(n),i.utcOffset(n));var c=a.duration(i.diff(o)).asHours();return r(c)}var a=n(7);t.exports=o}]);
//# sourceMappingURL=addtocalendar.min.js.map